<app-categories (actionEmitter) = "filter($event)"></app-categories>
<div class="card-top container-fluid">
    <label> Sort by </label>
    <select [(ngModel)] = "SortbyParam">
        <option value="price"> Price </option>
        <option value="title"> Name </option>
    </select>
    <button type="button" (click) = "onSortDirection()"> 
        <i *ngIf="SortDirection === 'asc'" class="fas fa-sort-up"></i>
        <i *ngIf="SortDirection === 'desc'" class="fas fa-sort-down"></i>
    </button> <br/>
    <span> Filter by Price Range</span>
        <div class="form-group">
                <label for="min"> Min </label>
                <input [(ngModel)] = "min" type="number" id="min" class="form-control" min="0">
                <label for="max"> Max </label>
                <input [(ngModel)] = "max" type="number" id="max" class="form-control" min="0">
                <button type="submit"> Filter </button>
        </div>
    <ng-container *ngIf="(filterByCategory | filter:searchKey:'title') as result">
        <div class="card shadow-sm">
            <div class=" row" >                   
                <ng-container *ngFor="let item of result | pricefilter:[min, max] | sort:[SortbyParam, SortDirection]">
                    <div class="card col-md-3">
                        <img src="{{item.image}}" alt="{{item.title}}">
                        <h4> {{item.title}} </h4>
                        <p> {{item.description}} </p>
                        <p><strong> {{item.price | currency: '&#8369;' : 'code'}} </strong></p>
                        <button class="btn btn-primary" (click) = addToCart(item)> Add to cart </button>                                    
                    </div>
                </ng-container>       
            </div>
        </div>
        <app-not-found [visible]="result.length<=0"></app-not-found>
    </ng-container>
</div>
